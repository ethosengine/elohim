# SonarQube Configuration for elohim-app
# Run locally: npm run sonar
# CI overrides sonar.projectKey based on branch (see Jenkinsfile getSonarProjectConfig)

# Default to alpha project for local development runs
# CI will use: elohim-app-alpha, elohim-app-staging, or elohim-app-prod
sonar.projectKey=elohim-app-alpha
sonar.projectName=Elohim App
sonar.projectVersion=1.0.0

# Source settings
sonar.sources=src
sonar.exclusions=**/node_modules/**,**/*.spec.ts,**/test/**,**/*.stories.ts,**/dist/**,**/.angular/**

# Test settings
sonar.tests=src
sonar.test.inclusions=**/*.spec.ts
sonar.typescript.lcov.reportPaths=coverage/elohim-app/lcov.info

# Language settings
sonar.language=ts
sonar.sourceEncoding=UTF-8

# SonarQube server
# Token provided via SONAR_TOKEN env var (mapped from SONARQUBE_TOKEN in npm script)
sonar.host.url=https://sonarqube.ethosengine.com

# ESLint report import - lets SonarQube see ESLint findings as external issues
# Generate with: npx eslint --format json --output-file eslint-report.json src/
sonar.eslint.reportPaths=eslint-report.json

# Quality gate settings
# Local runs don't wait for gate; CI enables wait and enforces for prod only
sonar.qualitygate.wait=false
