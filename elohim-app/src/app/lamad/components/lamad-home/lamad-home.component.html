<div class="lamad-home">
  <!-- View Mode Toggle Bar -->
  <nav class="view-mode-bar">
    <div class="view-tabs">
      <button
        class="view-tab"
        [class.active]="viewMode === 'paths'"
        (click)="setViewMode('paths')"
      >
        <span class="tab-icon">&#128218;</span>
        Paths
      </button>
      <button
        class="view-tab"
        [class.active]="viewMode === 'explore'"
        (click)="setViewMode('explore')"
      >
        <span class="tab-icon">&#127758;</span>
        Explore
      </button>
    </div>
    <div class="view-actions">
      <button class="action-link" (click)="goToSearch()">
        <span class="tab-icon">&#128269;</span>
        Search
      </button>
      <button class="action-link" (click)="goToDashboard()">
        <span class="tab-icon">&#128100;</span>
        Me
      </button>
    </div>
  </nav>

  <!-- Loading State -->
  @if (isLoading) {
    <div class="loading-state">
      <div class="loading-spinner"></div>
      <p>Loading...</p>
    </div>
  }

  <!-- Error State -->
  @if (error) {
    <div class="error-state">
      <h2>Something went wrong</h2>
      <p>{{ error }}</p>
    </div>
  }

  <!-- Main Content -->
  @if (!isLoading && !error) {
    <!-- Hero Section -->
    <header class="hero-section">
      <div class="hero-content">
        <h1 class="hero-title">Lamad</h1>
        <p class="hero-subtitle">
          Discover the vision for digital infrastructure that serves human flourishing
        </p>
      </div>
    </header>

    <!-- Featured Path -->
    @if (featuredPath) {
      <section class="featured-section">
        <div class="featured-card">
          <div class="featured-badge">Featured Journey</div>

          <h2 class="featured-title">{{ featuredPath.title }}</h2>
          <p class="featured-description">{{ featuredPath.description }}</p>

          <div class="featured-meta">
            <span class="meta-item difficulty" [class]="getDifficultyClass(featuredPath.difficulty)">
              {{ formatDifficulty(featuredPath.difficulty) }}
            </span>
            @if (featuredPath.estimatedDuration) {
              <span class="meta-item duration">{{ featuredPath.estimatedDuration }}</span>
            }
            @if (featuredPath.stepCount) {
              <span class="meta-item steps">{{ featuredPath.stepCount }} steps</span>
            }
          </div>

          <div class="featured-actions">
            <button class="btn btn-primary btn-large" (click)="startFeaturedPath()">
              Begin Journey
            </button>
            <button class="btn btn-secondary" (click)="goToPath(featuredPath.id)">
              View Details
            </button>
          </div>
        </div>
      </section>
    }

    <!-- Quick Actions -->
    <section class="quick-actions">
      <button class="action-card" (click)="goToDashboard()">
        <span class="action-icon">üìö</span>
        <span class="action-label">My Learning</span>
        <span class="action-description">Track your progress</span>
      </button>

      <button class="action-card" (click)="goToSearch()">
        <span class="action-icon">üîç</span>
        <span class="action-label">Search</span>
        <span class="action-description">Find specific content</span>
      </button>

      <button class="action-card" (click)="goToExplore()">
        <span class="action-icon">üó∫Ô∏è</span>
        <span class="action-label">Explore</span>
        <span class="action-description">Browse the knowledge graph</span>
      </button>
    </section>

    <!-- All Paths -->
    @if (paths.length > 1) {
      <section class="paths-section">
        <h2 class="section-title">All Learning Paths</h2>

        <div class="paths-grid">
          @for (path of paths; track path.id) {
            <article class="path-card" (click)="goToPath(path.id)">
              <h3 class="path-title">{{ path.title }}</h3>
              <p class="path-description">{{ path.description }}</p>

              <div class="path-meta">
                <span class="meta-item difficulty" [class]="getDifficultyClass(path.difficulty)">
                  {{ formatDifficulty(path.difficulty) }}
                </span>
                @if (path.stepCount) {
                  <span class="meta-item">{{ path.stepCount }} steps</span>
                }
              </div>

              @if (path.tags && path.tags.length > 0) {
                <div class="path-tags">
                  @for (tag of path.tags.slice(0, 3); track tag) {
                    <span class="tag">{{ tag }}</span>
                  }
                </div>
              }
            </article>
          }
        </div>
      </section>
    }

    <!-- Footer -->
    <footer class="home-footer">
      <p>
        Lamad is part of the <strong>Elohim Protocol</strong> - digital infrastructure for human flourishing.
      </p>
    </footer>
  }
</div>
