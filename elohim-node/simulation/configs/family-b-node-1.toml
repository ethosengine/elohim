# Family B - Node 1 (Primary)
# This is the primary node for the Smith family cluster

[node]
id = "family-b-node-1"
data_dir = "/var/lib/elohim"
cluster_name = "smith-family"

[sync]
max_document_size = 10485760
sync_interval_ms = 1000

[cluster]
mdns_enabled = true
# Cluster key set via environment variable

[p2p]
listen_addrs = [
    "/ip4/0.0.0.0/tcp/4001",
    "/ip4/0.0.0.0/udp/4001/quic-v1"
]

# Bootstrap: know about the other cluster's primary node
bootstrap_nodes = [
    "/ip4/172.20.0.11/tcp/4001/p2p/family-a-node-1"
]

# Announce addresses (LAN + WAN)
announce_addrs = [
    "/ip4/172.20.2.11/tcp/4001",
    "/ip4/172.20.0.21/tcp/4001"
]

relay_enabled = true
max_connections = 50

[storage]
max_capacity = "10GB"
data_shards = 4
parity_shards = 3
cache_size = "256MB"

[api]
http_enabled = true
http_port = 8080
http_bind = "0.0.0.0"
grpc_enabled = true
grpc_port = 9090
grpc_bind = "0.0.0.0"
metrics_enabled = true

[logging]
level = "debug"
format = "pretty"
