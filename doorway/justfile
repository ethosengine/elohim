# Doorway Gateway - Bootstrap, Signal & Conductor Proxy
#
# RUSTFLAGS is cleared â€” just `just build` and go.

set dotenv-load := false

export RUSTFLAGS := ""

# List available recipes
default:
    @just --list

# Build release binary
build:
    cargo build --release

# Build debug binary
build-dev:
    cargo build

# Run tests
test:
    cargo test --lib --bins

# Type-check without building
check:
    cargo check

# Lint with clippy
clippy:
    cargo clippy -- -D warnings

# Format code
fmt:
    cargo fmt

# Check formatting without modifying
fmt-check:
    cargo fmt --check

# Remove build artifacts
clean:
    cargo clean

# Quality gate: fmt-check + clippy + test
gate: fmt-check clippy test
